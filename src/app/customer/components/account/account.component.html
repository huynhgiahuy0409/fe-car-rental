<div class="account" *ngIf="user$ | async as user">
    <div class="profile-cover">
        <div class="profile-cover__edit-btn">
            <button #editCoverBtn mat-raised-button class="btn btn-m"><i class="mr-r-5 fa-solid fa-camera"></i>Chỉnh sửa ảnh bìa</button> 
            <ul class="profile-cover__edit-slt" *ngIf="isSltEditCover">
                    <label (click)="updateAvatarInput.click()"  class="w-fit profile-cover__edit-ops">
                        <i class="mr-r-10 fa-solid fa-image"></i>
                        Tải ảnh lên
                    </label>
                    <label class="w-fit profile-cover__edit-ops">
                        <i class="mr-r-10 fa-solid fa-trash"></i>
                        Gỡ
                    </label>
            </ul>
        </div>
    </div>
    <div class="grid wide">
        <div class="profile-content">
            <div class="profile-desc">
                <div class="row">
                    <div class="col l-3">
                        <div class="avatar-box">
                            <label for="updateAvatarInput" class="avatar avatar--xl">
                                <div class="avatar-image" style="
                    background-image: url('https://n1-astg.mioto.vn/g/2023/01/18/05/RFDgIbEPT2wzTs5OQo2C3A.jpg');
                  "></div>
                            </label>
                        </div>
                    </div>
                    <div class="col l-9">
                        <div class="snippet">
                            <div class="profile-info">
                                <div class="item-content">
                                    <div class="item-title">
                                        <p [style.margin-bottom]="'0'">{{user.fullName}}</p>
                                        <i class="mr-l-10 icon-bo edit-icon" (click)="openEditUserInfoDialog()"></i>
                                    </div>
                                    <div class="d-flex-bo align-items-center-bo">
                                        <span>Tham gia: {{user.createdDate | date:'dd/MM/yyyy'}}</span>
                                        <div class="line mr-side-10"></div>
                                        <strong>Chưa có chuyến</strong>
                                    </div>
                                </div>
                                <div class="item-points">
                                    <svg class="svg-bo" viewBox="0 0 24 24" fill="none">
                                        <circle r="11" transform="matrix(-1 0 0 1 11 11)" fill="var(--gemstone-color)">
                                        </circle>
                                        <path
                                            d="M10.022 5.51l-.947 2.738c-.128.37-.496.62-.91.62H5.101c-.928 0-1.313 1.115-.563 1.627l2.48 1.692a.87.87 0 01.347 1.005l-.947 2.738c-.286.828.722 1.517 1.472 1.005l2.48-1.692c.335-.229.79-.229 1.125 0l2.479 1.692c.75.512 1.759-.176 1.472-1.005l-.947-2.738a.87.87 0 01.348-1.005l2.479-1.692c.75-.512.365-1.626-.562-1.626h-3.065c-.415 0-.782-.251-.91-.621l-.947-2.738c-.287-.828-1.534-.828-1.82 0z"
                                            fill="#fff"></path>
                                    </svg>
                                    <span>0 điểm</span>
                                    <i class="icon-bo question-icon"></i>
                                </div>
                            </div>
                            <div class="profile-line">
                                <div class="profile-line__item">
                                    <strong>Ngày sinh</strong>
                                    <p *ngIf="user.dob; else updateUserBtn">{{user.dob | date:'dd/MM/yyyy'}}</p>
                                </div>
                                <div class="profile-line__item">
                                    <strong>Giới tính</strong>
                                    <p *ngIf="user.gender === 'MALE'">Nam</p>
                                    <p *ngIf="user.gender === 'FEMALE'">Nữ</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="account-info">
                <div class="account-info__inside">
                    <div class="row">
                        <div class="col l-2-4 c-12">
                            <span class="label">Điện thoại</span>
                            <div class="content">
                                <a class="function-edit" (click)="openEditPhoneDialog()">
                                    <i class="icon-bo edit-icon"></i>
                                </a>
                                <span><i class="icon-bo verify-icon mr-r-5"></i>{{user.phone}}</span>
                            </div>
                        </div>
                        <div class="col l-2-4 c-12">
                            <span class="label">GPLX</span>
                            <div class="content">
                                <a class="function-edit" (click)="openEditLicenseDialog()">
                                    <i class="icon-bo edit-icon"></i>
                                </a>
                                <div>
                                    <i class="icon-bo error-icon"></i>
                                </div>
                                <a class="verify prevent-click">
                                    Chưa xác thực GPLX
                                </a>
                            </div>
                        </div>
                        <div class="col l-2-4 c-12">
                            <span class="label">Email</span>
                            <div class="content">
                                <!-- <a class="function-edit" (click)="openEditEmailDialog()">
                                    <i class="icon-bo edit-icon"></i>
                                </a> -->
                                <span><i class="icon-bo verify-icon mr-r-5"></i>{{user.email}}</span>
                            </div>
                        </div>
                        <div class="col l-2-4 c-12">
                            <span class="label">Facebook</span>
                            <div class="content">
                                <!-- <a class="function-edit">
                                    <i class="icon-bo remove-icon"></i>
                                </a> -->
                            </div>
                        </div>
                        <div class="col l-2-4 c-12">
                            <span class="label">Google</span>
                            <div class="content">
                                <!-- <a class="function-edit">
                                    <i class="icon-bo link-icon"></i>
                                </a> -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="profile__wrapper">
            <div class="review-sect">
                <div class="review-container">
                    <div class="review review__wrapper">
                        <div class="review">
                            <h2 class="title">
                                Nhận xét từ khách thuê
                            </h2>
                            <div class="group-view">
                                <div class="star">
                                    <div class="star__rate-num">5.0</div>
                                    <div class="star__ratings">
                                        <div class="star-container">
                                            <svg viewBox="0 0 51 48" class="widget-svg" style="width: 17px;
                                                height: 17px;
                                                transition: transform
                                                0.2s ease-in-out 0s;">
                                                <path class="star" d="m25,1
                                                    6,17h18l-14,11
                                                    5,17-15-10-15,10
                                                    5-17-14-11h18z" style="fill: rgb(0,
                                                    165, 80);
                                                    transition: fill
                                                    0.2s ease-in-out
                                                    0s;">
                                                </path>
                                            </svg>
                                        </div>
                                    </div>
                                </div>
                                <div class="bar-line"></div>
                                <div class="total-comment">41 đánh giá</div>
                            </div>
                            <hr class="line">
                            <ul class="comment-list">
                                <li class="comment-item" *ngFor="let i
                                    of [1,1,1]">
                                    <div class="row">
                                        <div class="col l-1">
                                            <div class="fix-avatar">
                                                <a href="">
                                                    <img src="https://n1-cstg.mioto.vn/m/avatars/p.jpg" alt="">
                                                </a>
                                            </div>
                                        </div>
                                        <div class="col l-11">
                                            <a href="">
                                                <div class="name">
                                                    Huy Huynh
                                                </div>
                                            </a>
                                            <div class="comment-box">
                                                <div class="group">
                                                    <div class="star-ratings">
                                                        <ng-container *ngFor="let
                                                            user of
                                                            [1,1,1,1,1]">
                                                            <div class="star-container">
                                                                <svg viewBox="0
                                                                    0 51
                                                                    48" class="widget-svg" style="width:
                                                                    17px;
                                                                    height:
                                                                    17px;
                                                                    transition:
                                                                    transform
                                                                    0.2s
                                                                    ease-in-out
                                                                    0s;">
                                                                    <path class="star" d="m25,1
                                                                        6,17h18l-14,11
                                                                        5,17-15-10-15,10
                                                                        5-17-14-11h18z" style="fill:
                                                                        rgb(0,
                                                                        165,
                                                                        80);
                                                                        transition:
                                                                        fill
                                                                        0.2s
                                                                        ease-in-out
                                                                        0s;">
                                                                    </path>
                                                                </svg>
                                                            </div>
                                                        </ng-container>
                                                    </div>
                                                    <span style="font-size:
                                                        1.2rem">3 ngày
                                                        trước</span>
                                                </div>
                                                <div class="desc">Comment</div>
                                            </div>
                                            <div class="text-align--right">
                                                <span class="service-type">Có tài</span>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="properties">
                <div class="properties__wrapper">
                    <div class="wd-carousel-wrapper">
                        <h2>Xe có tài xế của Lưu Mạnh Dũng (1 xe)</h2>
                        <app-carousel [specItems]="[1,1,1,1,1]"
                            [itemRender]="carouselItemsTemplateRef"
                            [isPerItemInStep]="true"></app-carousel>
                            <ng-template #carouselItemsTemplateRef let-item="item" let-idx="idx"
                            let-curIdx="curIdx">
                            <li (click)="navigateCarDetail()" #imageCarouselItem
                                class="image-carousel__item col l-4 c-3">
                                <div class="car-card-item-wrapper">
                                    <div class="car-card-item">
                                        <div class="car-card-item__image">
                                            <img
                                                src="https://n1-pstg.mioto.vn/cho_thue_xe_o_to_tu_lai_thue_xe_du_lich_hochiminh/mazda_3_2020/p/g/2021/03/20/13/M7M_5xiTotPK8fEQPUhmEA.jpg"
                                                alt="" />
                                            <div class="price-car">950K</div>
                                        </div>
                                        <div class="desc-car">
                                            <div class="desc-car__name d-flex-bo">
                                                <h4>MITSUBISHI OUTLANDER 2020</h4>
                                                <i class="icon-bo icon-insurance"></i>
                                            </div>
                                            <div class="group-line">
                                                <span class="star">
                                                    <div class="star_rate-num">5.0</div>
                                                    <div class="star-container">
                                                        <svg viewBox="0 0 51 48" class="widget-svg"
                                                            style="
                                                            width: 17px;
                                                            height: 17px;
                                                            transition: transform 0.2s ease-in-out 0s;
                                                            ">
                                                            <path class="star" d="m25,1
                                                                6,17h18l-14,11 5,17-15-10-15,10
                                                                5-17-14-11h18z" style="
                                                                fill: var(--gemstone-color);
                                                                transition: fill 0.2s ease-in-out 0s;
                                                                "></path>
                                                        </svg>
                                                    </div>
                                                    <div class="dot-car mr-side-5">•</div>
                                                    <div class="trips mr-r-5">93 chuyến</div>
                                                    <div class="certificate-wrapper">
                                                        <app-certificate-svg></app-certificate-svg>
                                                    </div>
                                                    </span>
                                                </div>
                                                <div class="group-label">
                                                    <span>Số tự động</span>
                                                    <span>Giao xe tận nơi</span>
                                                </div>
                                                <div class="location">
                                                    <p class="d-flex-bo align-items-center-bo">
                                                        <i class="icon-bo location-icon"></i>
                                                        Quận Phú Nhuận, Hồ Chí Minh
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                        </ng-template>
                    </div>
                    <div class="sd-carousel-wrapper">
                        <h2>Xe tự lái của Lưu Mạnh Dũng (1 xe)</h2>
                        <app-carousel [specItems]="[1,1,1,1,1]"
                            [itemRender]="carouselItemsTemplateRef"
                            [isPerItemInStep]="true"></app-carousel>
                            <ng-template #carouselItemsTemplateRef let-item="item" let-idx="idx"
                            let-curIdx="curIdx">
                            <li (click)="navigateCarDetail()" #imageCarouselItem
                                class="image-carousel__item col l-4 c-3">
                                <div class="car-card-item-wrapper">
                                    <div class="car-card-item">
                                        <div class="car-card-item__image">
                                            <img
                                                src="https://n1-pstg.mioto.vn/cho_thue_xe_o_to_tu_lai_thue_xe_du_lich_hochiminh/mazda_3_2020/p/g/2021/03/20/13/M7M_5xiTotPK8fEQPUhmEA.jpg"
                                                alt="" />
                                            <div class="price-car">950K</div>
                                        </div>
                                        <div class="desc-car">
                                            <div class="desc-car__name d-flex-bo">
                                                <h4>MITSUBISHI OUTLANDER 2020</h4>
                                                <i class="icon-bo icon-insurance"></i>
                                            </div>
                                            <div class="group-line">
                                                <span class="star">
                                                    <div class="star_rate-num">5.0</div>
                                                    <div class="star-container">
                                                        <svg viewBox="0 0 51 48" class="widget-svg"
                                                            style="
                                                            width: 17px;
                                                            height: 17px;
                                                            transition: transform 0.2s ease-in-out 0s;
                                                            ">
                                                            <path class="star" d="m25,1
                                                                6,17h18l-14,11 5,17-15-10-15,10
                                                                5-17-14-11h18z" style="
                                                                fill: var(--gemstone-color);
                                                                transition: fill 0.2s ease-in-out 0s;
                                                                "></path>
                                                        </svg>
                                                    </div>
                                                    <div class="dot-car mr-side-5">•</div>
                                                    <div class="trips mr-r-5">93 chuyến</div>
                                                    <div class="certificate-wrapper">
                                                        <app-certificate-svg></app-certificate-svg>
                                                    </div>
                                                    </span>
                                                </div>
                                                <div class="group-label">
                                                    <span>Số tự động</span>
                                                    <span>Giao xe tận nơi</span>
                                                </div>
                                                <div class="location">
                                                    <p class="d-flex-bo align-items-center-bo">
                                                        <i class="icon-bo location-icon"></i>
                                                        Quận Phú Nhuận, Hồ Chí Minh
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                        </ng-template>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <ng-template #updateUserBtn>
        <a  id="updateUserBtn" (click)="openEditUserInfoDialog()">Cập nhật ngay</a>
    </ng-template>
</div>
<input #updateAvatarInput type="file" id="updateAvatarInput" [style]="'display: none'">
<input type="file" id="updateCoverInput" [style]="'display: none'">
